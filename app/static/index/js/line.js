const canvas=document['getElementById']('lines'),canvas_shadow=document['getElementById']('lines_shadow'),ctx=canvas['getContext']('2d'),ctx_shadow=canvas_shadow['getContext']('2d'),stringCount=0x1e,shadow=0xa;canvas['width']=0x780,canvas['height']=0x438,canvas_shadow['width']=0x780,canvas_shadow['height']=0x438;var scale;const g=0x5b25;function updateCanvasSize(){var z=canvas['getBoundingClientRect']();scale=canvas['width']/z['width'];}updateCanvasSize(),window['addEventListener']('resize',function(){scaleInfo=updateCanvasSize();});function DrawBall(z,R,J,l){z['beginPath'](),z['arc'](R,J,l,0x0,0x2*Math['PI']),z['fill'](),z['closePath']();}function Frame(){ctx['clearRect'](0x0,0x0,canvas['width'],canvas['height']),ctx_shadow['clearRect'](0x0,0x0,canvas['width'],canvas['height']),strings['forEach'](z=>{z['frame']();}),ctx_shadow['globalAlpha']=0.2,ctx_shadow['lineJoin']='round',ctx_shadow['lineCap']='round',ctx_shadow['strokeStyle']='rgba(0,\x200,\x200,\x201)',ctx_shadow['fillStyle']='rgba(0,\x200,\x200,\x201)',strings['forEach'](z=>{ctx_shadow['lineWidth']=z['width'];let R=z['getString'](),J=R['length'];ctx_shadow['beginPath'](),ctx_shadow['moveTo'](R[0x0][0x0]+shadow,R[0x0][0x1]+shadow);for(let l=0x1;l<J;l++){ctx_shadow['lineTo'](R[l][0x0]+shadow,R[l][0x1]+shadow);}ctx_shadow['stroke']();}),strings['forEach'](z=>{let R=z['getString'](),J=R['length']-0x1;DrawBall(ctx_shadow,R[0x0][0x0]+shadow,R[0x0][0x1]+shadow,z['size']),DrawBall(ctx_shadow,R[J][0x0]+shadow,R[J][0x1]+shadow,z['size']);}),ctx_shadow['globalAlpha']=0x1,ctx['lineCap']='round',ctx['lineJoin']='round',strings['forEach'](z=>{ctx['strokeStyle']=z['color'],ctx['lineWidth']=z['width'],ctx['fillStyle']=z['color'];let R=z['getString'](),J=R['length'];ctx['beginPath'](),ctx['moveTo'](R[0x0][0x0],R[0x0][0x1]);for(let l=0x1;l<J;l++){ctx['lineTo'](R[l][0x0],R[l][0x1]);}ctx['stroke']();}),ctx['fillStyle']='rgba(80,\x2080,\x2080,\x201)',strings['forEach'](z=>{let R=z['getString'](),J=R['length']-0x1;DrawBall(ctx,R[0x0][0x0],R[0x0][0x1],z['size']),DrawBall(ctx,R[J][0x0],R[J][0x1],z['size']);}),requestAnimationFrame(Frame);}class String{constructor(z,R,J,l,m,V,r){this['pos']=[],this['v']=[],this['count']=J,this['start']=z,this['end']=R,this['width']=m,this['color']=V,this['size']=r;let b=z['getBoundingClientRect'](),C=R['getBoundingClientRect']();this['lastTime']=performance['now']();let G=C['left']-b['left'],Z=C['top']-b['top'];for(let p=0x0;p<this['count']+0x2;p++){this['pos']['push']([(b['left']+G*p/(this['count']+0x1))*scale,(b['top']+Z*p/(this['count']+0x1))*scale]),this['v']['push']([0x0,0x0]);}this['d']=this['dis']([0x0,0x0],[G*scale,Z*scale])/(J+0x1)*l;for(let v=0x0;v<0xe9;v++){this['frame'](!![]);}}['getString'](){let z=this['pos'],R=this['start']['getBoundingClientRect'](),J=this['end']['getBoundingClientRect']();return z[0x0]=[R['left']*scale,R['top']*scale],z[z['length']-0x1]=[J['left']*scale,J['top']*scale],z;}['frame'](z=![]){let R=0x0;if(z)R=0.01;else{let m=performance['now']();R=(m-this['lastTime'])/0x3e8,this['lastTime']=m;}let J=this['start']['getBoundingClientRect'](),l=this['end']['getBoundingClientRect']();this['pos'][0x0]=[J['left']*scale,J['top']*scale],this['pos'][this['pos']['length']-0x1]=[l['left']*scale,l['top']*scale];for(let V=0x1;V<=this['count'];V++){this['v'][V][0x1]+=g*R;}for(let r=0x1;r<=this['count'];r++){this['pos'][r][0x0]+=this['v'][r][0x0]*R,this['pos'][r][0x1]+=this['v'][r][0x1]*R;}for(let b=0x0;b<0x3;b++){for(let C=0x1;C<=this['count'];C++){if(this['dis'](this['pos'][C-0x1],this['pos'][C])>this['d']){let G=this['shouldMove'](this['pos'][C-0x1],this['pos'][C],this['d']);this['pos'][C]=[this['pos'][C-0x1][0x0]+G[0x0],this['pos'][C-0x1][0x1]+G[0x1]];}}for(let Z=this['count'];Z>=0x1;Z--){if(this['dis'](this['pos'][Z+0x1],this['pos'][Z])>this['d']){let p=this['shouldMove'](this['pos'][Z+0x1],this['pos'][Z],this['d']);this['pos'][Z]=[this['pos'][Z+0x1][0x0]+p[0x0],this['pos'][Z+0x1][0x1]+p[0x1]];}}}for(let v=0x1;v<=this['count'];v++){this['v'][v][0x0]*=0.95,this['v'][v][0x1]*=0.95;}}['dis'](z,R){return Math['sqrt'](Math['pow'](R[0x0]-z[0x0],0x2)+Math['pow'](R[0x1]-z[0x1],0x2));}['shouldMove'](z,R,J){const l=[R[0x0]-z[0x0],R[0x1]-z[0x1]],m=Math['sqrt'](l[0x0]**0x2+l[0x1]**0x2),V=[l[0x0]/m,l[0x1]/m],C=[V[0x0]*J,V[0x1]*J];return[C[0x0],C[0x1]];}}var stringsele=document['querySelectorAll']('.string'),strings=[];let n=stringsele['length'];for(let i=0x0;i<n;i++){let id=stringsele[i]['dataset']['id'],c=id['slice'](0x1,id['length']);if(id[0x0]=='s')for(let j=0x0;j<n;j++){let id2=stringsele[j]['dataset']['id'],c2=id2['slice'](0x1,id2['length']);if(c2==c&&i!=j){var len=1.1,width=0x6,color='rgba(200,\x200,\x200,\x201)',size=0x14;if(stringsele[i]['hasAttribute']('data-len'))len=parseFloat(stringsele[i]['dataset']['len']);if(stringsele[i]['hasAttribute']('data-width'))width=parseFloat(stringsele[i]['dataset']['width']);if(stringsele[i]['hasAttribute']('data-color'))color=stringsele[i]['dataset']['color'];if(stringsele[i]['hasAttribute']('data-size'))size=parseFloat(stringsele[i]['dataset']['size']);strings['push'](new String(stringsele[i],stringsele[j],stringCount,len,width,color,size));}}}Frame();